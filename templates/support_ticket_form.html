{% extends "base.html" %}
{% block content %}
<h2>{% if record %}Edit{% else %}Add{% endif %} Support Ticket</h2>

<form method="POST">
    <label for="user_id">User ID:</label>
    <input type="number" name="user_id" id="user_id" value="{{ record.user_id if record else '' }}" required>

    <label for="subject">Subject:</label>
    <input type="text" name="subject" id="subject" value="{{ record.subject if record else '' }}" required>

    <label for="message">Message:</label>
    <textarea name="message" id="message" rows="4" required>{{ record.message if record else '' }}</textarea>

    <label for="status">Status:</label>
    <select name="status" id="status" required>
        <option value="Open" {% if record and record.status == 'Open' %}selected{% endif %}>Open</option>
        <option value="In Progress" {% if record and record.status == 'In Progress' %}selected{% endif %}>In Progress</option>
        <option value="Resolved" {% if record and record.status == 'Resolved' %}selected{% endif %}>Resolved</option>
        <option value="Closed" {% if record and record.status == 'Closed' %}selected{% endif %}>Closed</option>
    </select>

    <label for="created_at">Created At:</label>
    <input type="datetime-local" name="created_at" id="created_at" value="{{ record.created_at if record else '' }}" required>

    <button type="submit" class="btn btn-success">Save</button>
    <a href="{{ url_for('list_support_ticket') }}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}
